Nu har jag kommit så långt att jag kan börja tänka på att optimera koden. Min första misstanke var att den stora bottlenecken skulle vara sorteringen. Och jag hade rätt, vem kunde tänka sig att bubble sort
inte blir bra för stora tal. För många kulor laggade det däremot fortfarande, och renderingen var inte lika trivial som man skulle kunna tro, att uppdatera kameran tog 10% av total prestanda. Detta kan optimeras
bort genom att för det första bara sätt uniformen en gång då vi vet att kameran aldrig kommer ändras, men detta är aningen orealistiskt om man ja, vill ändra kameran. Att istället kunna få transformations
matriserna kan också vara något som speedar upp det. Den stora bottlenecken är däremot spelarens bullets. Koden som den har går igenom alla objekt och kollar om deras tag är fiende. Och sedan deras collision.
Att konstruera strings var tydligen något som tog en del prestanda, så ett sätt att fixa det är geniom att låta GetTag returna en referens istället för en string. Det jag märker speciellt tydligt nu är
 att kollision systemet inte är helt självklart. Att behöva söka igenom alla objekt varje frame för att kolla om den collidar med en annan kategori objekt blir kvadratisk i tidskomplexitet, om vi till 
 exempel är intresserad av antalet kulor som kan vara på skärmen samtidigt. Lösningar till det här finns framförallt i 2 former. Antingen 1, låter vi sökandet över objekten bli snabbare. För att söka igenom 
 alla objekt går det inte riktigt att göra snabbare, men möjligen går det att göra sökandet av objekt på deras tag eller namn snabbare genom att indexera över dem. Eller 2, göra så att kollision systemet inte 
 checkas centralt för objekten utan av något annat system. Jag är däremot inte helt säker på hur det här andra systemet skulle se ut, men exempelvis kan man tänka sig att en hitbox registerar en 
 hitbox, och att enginen då kan checka collision för objekt och kalla på rätt callback. Lösningen som kringår det här systemet är egentligen bara att lägga tillbaka att kulorna förstörs när dem kommer ur
 skärmen. För tillfället är det den enklaste lösninge, också den lösning som gör att jag kan testa olika metoder för att ta bort objekt vilket jag också vill undersöka.